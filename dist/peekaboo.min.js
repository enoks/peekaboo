/**
 * peekaboo v1.2.0
 * https://github.com/enoks/peekaboo.js
 *
 * Copyright 2019, Stefan KÃ¤sche
 * https://github.com/enoks
 *
 * Licensed under MIT
 * https://github.com/enoks/peekaboo.js/blob/master/LICENSE
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define("peekaboo",[],function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:e.peekaboo=t}(this,function(){"use strict";function e(n){if(t.length){if(o){if(!window.requestAnimationFrame)return}else{if(window.requestAnimationFrame)return o=window.requestAnimationFrame(e.bind(e,n));o=!0}var i=window.pageYOffset,a=i+Math.max(document.documentElement.clientHeight,window.innerHeight||0),l=window.pageXOffset,s=l+Math.max(document.documentElement.clientWidth,window.innerWidth||0);t.forEach(function(e,t){"number"==typeof n&&n!==t||(e.$.forEach(function(t,o){if(!t)return e.$[o]=null;var n=t.getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,c=n+t.clientHeight,r=t.getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,f=r+t.clientWidth;(!0===e.options.loadInvisible||("vertical"==e.options.loadInvisible||c>=i-e.options.threshold&&n<=a+e.options.threshold)&&("horizontal"==e.options.loadInvisible||f>=l-e.options.threshold&&r<=s+e.options.threshold))&&(e.options.class&&t.className.split(/ +/).indexOf(e.options.class.trim())<0&&(t.className=(t.className+=" "+e.options.class.trim()).trim()),e.options.callback.call(t,e.options),e.$[o]=null)}),e.$=e.$.filter(function(e){return e}))}),t=t.filter(function(e){return e.$.length}),"boolean"==typeof o?setTimeout(function(){o=!1},16):o=!1}}var t=[],o=!1;return window.addEventListener("load",e),window.addEventListener("scroll",e),window.addEventListener("resize",e),function(o,n){if(o&&("string"==typeof o?o=document.querySelectorAll(o):o instanceof HTMLElement&&(o=[o]),o.length)){o=Array.prototype.slice.call(o),"function"==typeof n&&(n={callback:n});var i={threshold:0,loadInvisible:!1,class:"peekaboo",callback:function(e){}};if("[object Object]"===Object.prototype.toString.call(n))for(var a in n)if(n.hasOwnProperty(a)){if("loadInvisible"==a)switch((n[a]+"").toLowerCase()){case"true":case"1":n[a]=!0;break;case"horizontal":case"x":n[a]="horizontal";break;case"vertical":case"y":n[a]="vertical";break;default:continue}else switch(typeof i[a]){case"undefined":break;default:if(typeof i[a]!=typeof n[a]){console.debug("Passed value for option '"+a+"' (type of "+typeof n[a]+") doesn't match expected value type ("+typeof i[a]+").");continue}break;case"number":if(n[a]=parseFloat(n[a]),isNaN(n[a])){console.debug("Passed value for option '"+a+"' isn't of type number at all.");continue}}i[a]=n[a]}t.push({$:o,options:i}),e(t.length-1)}}}());