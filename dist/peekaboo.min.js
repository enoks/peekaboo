/**
 * peekaboo v1.2.1
 * https://github.com/enoks/peekaboo.js
 *
 * Copyright 2019, Stefan KÃ¤sche
 * https://github.com/enoks
 *
 * Licensed under MIT
 * https://github.com/enoks/peekaboo.js/blob/master/LICENSE
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define("peekaboo",[],function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:e.peekaboo=t}(this,function(){"use strict";function e(o){if(t.length){if(n){if(!window.requestAnimationFrame)return}else{if(window.requestAnimationFrame)return n=window.requestAnimationFrame(e.bind(e,o));n=!0}var i=window.pageYOffset,a=i+Math.max(document.documentElement.clientHeight,window.innerHeight||0),s=window.pageXOffset,l=s+Math.max(document.documentElement.clientWidth,window.innerWidth||0);t.forEach(function(e,t){"number"==typeof o&&o!==t||(e.$.forEach(function(t,n){if(!t)return e.$[n]=null;var o=t.getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,c=o+t.clientHeight,r=t.getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,d=r+t.clientWidth;(!0===e.options.loadInvisible||("vertical"==e.options.loadInvisible||c>=i-e.options.threshold&&o<=a+e.options.threshold)&&("horizontal"==e.options.loadInvisible||d>=s-e.options.threshold&&r<=l+e.options.threshold))&&(e.options.class&&t.className.split(/ +/).indexOf(e.options.class.trim())<0&&(t.className=(t.className+=" "+e.options.class.trim()).trim()),e.options.callback.call(t,e.options),e.$[n]=null)}),e.$=e.$.filter(function(e){return e}))}),t=t.filter(function(e){return e.$.length}),"boolean"==typeof n?setTimeout(function(){n=!1},16):n=!1}}var t=[],n=!1,o=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){o=!0}}))}catch(e){}return window.addEventListener("load",e,!!o&&{once:!0,passive:!0}),window.addEventListener("scroll",e,!!o&&{passive:!0}),window.addEventListener("resize",e,!!o&&{passive:!0}),function(n,o){if(n&&("string"==typeof n?n=document.querySelectorAll(n):n instanceof HTMLElement&&(n=[n]),n.length)){n=Array.prototype.slice.call(n),"function"==typeof o&&(o={callback:o});var i={threshold:0,loadInvisible:!1,class:"peekaboo",callback:function(e){}};if("[object Object]"===Object.prototype.toString.call(o))for(var a in o)if(o.hasOwnProperty(a)){if("loadInvisible"==a)switch((o[a]+"").toLowerCase()){case"true":case"1":o[a]=!0;break;case"horizontal":case"x":o[a]="horizontal";break;case"vertical":case"y":o[a]="vertical";break;default:continue}else switch(typeof i[a]){case"undefined":break;default:if(typeof i[a]!=typeof o[a]){console.debug("Passed value for option '"+a+"' (type of "+typeof o[a]+") doesn't match expected value type ("+typeof i[a]+").");continue}break;case"number":if(o[a]=parseFloat(o[a]),isNaN(o[a])){console.debug("Passed value for option '"+a+"' isn't of type number at all.");continue}}i[a]=o[a]}t.push({$:n,options:i}),e(t.length-1)}}}());